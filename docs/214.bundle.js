!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.squoosh=t():e.squoosh=t()}(self,(function(){return(()=>{var e={36:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=36,e.exports=t},214:(e,t,r)=>{"use strict";var a={},o=!1,n=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:a._pthread_self()})},a.instantiateWasm=function(e,t){var r=new WebAssembly.Instance(a.wasmModule,e);return t(r),a.wasmModule=null,r.exports},self.onmessage=function(e){try{if("load"===e.data.cmd)a.wasmModule=e.data.wasmModule,a.wasmMemory=e.data.wasmMemory,a.buffer=a.wasmMemory.buffer,a.ENVIRONMENT_IS_PTHREAD=!0,(e.data.urlOrBlob?r(36)(e.data.urlOrBlob):r.e(866).then(r.bind(r,866))).then((function(e){return e.default(a)})).then((function(e){a=e}));else if("objectTransfer"===e.data.cmd)a.PThread.receiveObjectTransfer(e.data);else if("run"===e.data.cmd){a.__performance_now_clock_drift=performance.now()-e.data.time,a.__emscripten_thread_init(e.data.threadInfoStruct,0,0);var t=e.data.stackBase,s=e.data.stackBase+e.data.stackSize;a.establishStackSpace(s,t),a.PThread.receiveObjectTransfer(e.data),a.PThread.threadInit(),o||(a.___embind_register_native_and_builtin_types(),o=!0);try{var i=a.invokeEntryPoint(e.data.start_routine,e.data.arg);a.keepRuntimeAlive()?a.PThread.setExitStatus(i):a.PThread.threadExit(i)}catch(e){if("Canceled!"===e)a.PThread.threadCancel();else if("unwind"!=e){if(!(e instanceof a.ExitStatus))throw a.PThread.threadExit(-2),e;a.keepRuntimeAlive()||a.PThread.threadExit(e.status)}}}else"cancel"===e.data.cmd?a._pthread_self()&&a.PThread.threadCancel():"setimmediate"===e.data.target||("processThreadQueue"===e.data.cmd?a._pthread_self()&&a._emscripten_current_thread_process_queued_calls():(n("worker.js received unknown command "+e.data.cmd),n(e.data)))}catch(e){throw n("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&n(e.stack),e}}}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}return r.m=e,r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[])),r.u=e=>e+".bundle.js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=self.location+"";var e={214:1};r.f.i=(t,a)=>{e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunksquoosh=self.webpackChunksquoosh||[],a=t.push.bind(t);t.push=t=>{var[o,n,s]=t;for(var i in n)r.o(n,i)&&(r.m[i]=n[i]);for(s&&s(r);o.length;)e[o.pop()]=1;a(t)}})(),r(214)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkQsRUFBbUJFLEtBQUtDLEtBQUtILEdBQzlEQSxFQUFtQkUsS0F2QkM1RSxJQUNuQixJQUFLOEUsRUFBVUMsRUFBYUMsR0FBV2hGLEVBQ3ZDLElBQUksSUFBSTRCLEtBQVltRCxFQUNoQnBELEVBQW9CUyxFQUFFMkMsRUFBYW5ELEtBQ3JDRCxFQUFvQkssRUFBRUosR0FBWW1ELEVBQVluRCxJQUloRCxJQURHb0QsR0FBU0EsRUFBUXJELEdBQ2RtRCxFQUFTVixRQUNkSSxFQUFnQk0sRUFBU0csT0FBUyxFQUNuQ04sRUFBMkIzRSxLLEdDaEJGMkIsRUFBb0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovL3NxdW9vc2gvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3NxdW9vc2gvLi4vY29kZWNzL2p4bC9lbmN8bGF6eXxncm91cE9wdGlvbnM6IHt9fG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc3F1b29zaC8uLi9jb2RlY3MvanhsL2VuYy9qeGxfZW5jX210Lndvcmtlci5qcyIsIndlYnBhY2s6Ly9zcXVvb3NoL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NxdW9vc2gvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3NxdW9vc2gvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly9zcXVvb3NoL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9zcXVvb3NoL3dlYnBhY2svcnVudGltZS9nZXQgbWluaS1jc3MgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vc3F1b29zaC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3NxdW9vc2gvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zcXVvb3NoL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc3F1b29zaC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zcXVvb3NoL3dlYnBhY2svcnVudGltZS9pbXBvcnRTY3JpcHRzIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vc3F1b29zaC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wic3F1b29zaFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJzcXVvb3NoXCJdID0gZmFjdG9yeSgpO1xufSkoc2VsZiwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiZnVuY3Rpb24gd2VicGFja0VtcHR5QXN5bmNDb250ZXh0KHJlcSkge1xuXHQvLyBIZXJlIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKSBpcyB1c2VkIGluc3RlYWQgb2YgbmV3IFByb21pc2UoKSB0byBwcmV2ZW50XG5cdC8vIHVuY2F1Z2h0IGV4Y2VwdGlvbiBwb3BwaW5nIHVwIGluIGRldnRvb2xzXG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH0pO1xufVxud2VicGFja0VtcHR5QXN5bmNDb250ZXh0LmtleXMgPSAoKSA9PiAoW10pO1xud2VicGFja0VtcHR5QXN5bmNDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrRW1wdHlBc3luY0NvbnRleHQ7XG53ZWJwYWNrRW1wdHlBc3luY0NvbnRleHQuaWQgPSAzNjtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0VtcHR5QXN5bmNDb250ZXh0OyIsIlwidXNlIHN0cmljdFwiO3ZhciBNb2R1bGU9e307dmFyIGluaXRpYWxpemVkSlM9ZmFsc2U7ZnVuY3Rpb24gdGhyZWFkUHJpbnRFcnIoKXt2YXIgdGV4dD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oXCIgXCIpO2NvbnNvbGUuZXJyb3IodGV4dCl9ZnVuY3Rpb24gdGhyZWFkQWxlcnQoKXt2YXIgdGV4dD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oXCIgXCIpO3Bvc3RNZXNzYWdlKHtjbWQ6XCJhbGVydFwiLHRleHQ6dGV4dCx0aHJlYWRJZDpNb2R1bGVbXCJfcHRocmVhZF9zZWxmXCJdKCl9KX12YXIgZXJyPXRocmVhZFByaW50RXJyO3NlbGYuYWxlcnQ9dGhyZWFkQWxlcnQ7TW9kdWxlW1wiaW5zdGFudGlhdGVXYXNtXCJdPWZ1bmN0aW9uKGluZm8scmVjZWl2ZUluc3RhbmNlKXt2YXIgaW5zdGFuY2U9bmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKE1vZHVsZVtcIndhc21Nb2R1bGVcIl0saW5mbyk7cmVjZWl2ZUluc3RhbmNlKGluc3RhbmNlKTtNb2R1bGVbXCJ3YXNtTW9kdWxlXCJdPW51bGw7cmV0dXJuIGluc3RhbmNlLmV4cG9ydHN9O2Z1bmN0aW9uIG1vZHVsZUxvYWRlZCgpe31zZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt0cnl7aWYoZS5kYXRhLmNtZD09PVwibG9hZFwiKXtNb2R1bGVbXCJ3YXNtTW9kdWxlXCJdPWUuZGF0YS53YXNtTW9kdWxlO01vZHVsZVtcIndhc21NZW1vcnlcIl09ZS5kYXRhLndhc21NZW1vcnk7TW9kdWxlW1wiYnVmZmVyXCJdPU1vZHVsZVtcIndhc21NZW1vcnlcIl0uYnVmZmVyO01vZHVsZVtcIkVOVklST05NRU5UX0lTX1BUSFJFQURcIl09dHJ1ZTsoZS5kYXRhLnVybE9yQmxvYj9pbXBvcnQoZS5kYXRhLnVybE9yQmxvYik6aW1wb3J0KFwiLi9qeGxfZW5jX210LmpzXCIpKS50aGVuKGZ1bmN0aW9uKGV4cG9ydHMpe3JldHVybiBleHBvcnRzLmRlZmF1bHQoTW9kdWxlKX0pLnRoZW4oZnVuY3Rpb24oaW5zdGFuY2Upe01vZHVsZT1pbnN0YW5jZTttb2R1bGVMb2FkZWQoKX0pfWVsc2UgaWYoZS5kYXRhLmNtZD09PVwib2JqZWN0VHJhbnNmZXJcIil7TW9kdWxlW1wiUFRocmVhZFwiXS5yZWNlaXZlT2JqZWN0VHJhbnNmZXIoZS5kYXRhKX1lbHNlIGlmKGUuZGF0YS5jbWQ9PT1cInJ1blwiKXtNb2R1bGVbXCJfX3BlcmZvcm1hbmNlX25vd19jbG9ja19kcmlmdFwiXT1wZXJmb3JtYW5jZS5ub3coKS1lLmRhdGEudGltZTtNb2R1bGVbXCJfX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXRcIl0oZS5kYXRhLnRocmVhZEluZm9TdHJ1Y3QsMCwwKTt2YXIgbWF4PWUuZGF0YS5zdGFja0Jhc2U7dmFyIHRvcD1lLmRhdGEuc3RhY2tCYXNlK2UuZGF0YS5zdGFja1NpemU7TW9kdWxlW1wiZXN0YWJsaXNoU3RhY2tTcGFjZVwiXSh0b3AsbWF4KTtNb2R1bGVbXCJQVGhyZWFkXCJdLnJlY2VpdmVPYmplY3RUcmFuc2ZlcihlLmRhdGEpO01vZHVsZVtcIlBUaHJlYWRcIl0udGhyZWFkSW5pdCgpO2lmKCFpbml0aWFsaXplZEpTKXtNb2R1bGVbXCJfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzXCJdKCk7aW5pdGlhbGl6ZWRKUz10cnVlfXRyeXt2YXIgcmVzdWx0PU1vZHVsZVtcImludm9rZUVudHJ5UG9pbnRcIl0oZS5kYXRhLnN0YXJ0X3JvdXRpbmUsZS5kYXRhLmFyZyk7aWYoTW9kdWxlW1wia2VlcFJ1bnRpbWVBbGl2ZVwiXSgpKXtNb2R1bGVbXCJQVGhyZWFkXCJdLnNldEV4aXRTdGF0dXMocmVzdWx0KX1lbHNle01vZHVsZVtcIlBUaHJlYWRcIl0udGhyZWFkRXhpdChyZXN1bHQpfX1jYXRjaChleCl7aWYoZXg9PT1cIkNhbmNlbGVkIVwiKXtNb2R1bGVbXCJQVGhyZWFkXCJdLnRocmVhZENhbmNlbCgpfWVsc2UgaWYoZXghPVwidW53aW5kXCIpe2lmKGV4IGluc3RhbmNlb2YgTW9kdWxlW1wiRXhpdFN0YXR1c1wiXSl7aWYoTW9kdWxlW1wia2VlcFJ1bnRpbWVBbGl2ZVwiXSgpKXt9ZWxzZXtNb2R1bGVbXCJQVGhyZWFkXCJdLnRocmVhZEV4aXQoZXguc3RhdHVzKX19ZWxzZXtNb2R1bGVbXCJQVGhyZWFkXCJdLnRocmVhZEV4aXQoLTIpO3Rocm93IGV4fX19fWVsc2UgaWYoZS5kYXRhLmNtZD09PVwiY2FuY2VsXCIpe2lmKE1vZHVsZVtcIl9wdGhyZWFkX3NlbGZcIl0oKSl7TW9kdWxlW1wiUFRocmVhZFwiXS50aHJlYWRDYW5jZWwoKX19ZWxzZSBpZihlLmRhdGEudGFyZ2V0PT09XCJzZXRpbW1lZGlhdGVcIil7fWVsc2UgaWYoZS5kYXRhLmNtZD09PVwicHJvY2Vzc1RocmVhZFF1ZXVlXCIpe2lmKE1vZHVsZVtcIl9wdGhyZWFkX3NlbGZcIl0oKSl7TW9kdWxlW1wiX2Vtc2NyaXB0ZW5fY3VycmVudF90aHJlYWRfcHJvY2Vzc19xdWV1ZWRfY2FsbHNcIl0oKX19ZWxzZXtlcnIoXCJ3b3JrZXIuanMgcmVjZWl2ZWQgdW5rbm93biBjb21tYW5kIFwiK2UuZGF0YS5jbWQpO2VycihlLmRhdGEpfX1jYXRjaChleCl7ZXJyKFwid29ya2VyLmpzIG9ubWVzc2FnZSgpIGNhcHR1cmVkIGFuIHVuY2F1Z2h0IGV4Y2VwdGlvbjogXCIrZXgpO2lmKGV4JiZleC5zdGFjayllcnIoZXguc3RhY2spO3Rocm93IGV4fX07XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLmJ1bmRsZS5qc1wiO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhc3luYyBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIHVuZGVmaW5lZDtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBzZWxmLmxvY2F0aW9uICsgXCJcIjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBjaHVua3Ncbi8vIFwiMVwiIG1lYW5zIFwiYWxyZWFkeSBsb2FkZWRcIlxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MjE0OiAxXG59O1xuXG4vLyBpbXBvcnRTY3JpcHRzIGNodW5rIGxvYWRpbmdcbnZhciBpbnN0YWxsQ2h1bmsgPSAoZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdHdoaWxlKGNodW5rSWRzLmxlbmd0aClcblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZHMucG9wKCldID0gMTtcblx0cGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG59O1xuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmkgPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0Ly8gXCIxXCIgaXMgdGhlIHNpZ25hbCBmb3IgXCJhbHJlYWR5IGxvYWRlZFwiXG5cdGlmKCFpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRpZih0cnVlKSB7IC8vIGFsbCBjaHVua3MgaGF2ZSBKU1xuXHRcdFx0aW1wb3J0U2NyaXB0cyhfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCkpO1xuXHRcdH1cblx0fVxufTtcblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtzcXVvb3NoXCJdID0gc2VsZltcIndlYnBhY2tDaHVua3NxdW9vc2hcIl0gfHwgW107XG52YXIgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24gPSBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IGluc3RhbGxDaHVuaztcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdCIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTQpO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ3ZWJwYWNrRW1wdHlBc3luY0NvbnRleHQiLCJyZXEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJlIiwiRXJyb3IiLCJjb2RlIiwia2V5cyIsImlkIiwiTW9kdWxlIiwiaW5pdGlhbGl6ZWRKUyIsImVyciIsInRleHQiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImFyZ3VtZW50cyIsImpvaW4iLCJjb25zb2xlIiwiZXJyb3IiLCJhbGVydCIsInBvc3RNZXNzYWdlIiwiY21kIiwidGhyZWFkSWQiLCJpbmZvIiwicmVjZWl2ZUluc3RhbmNlIiwiaW5zdGFuY2UiLCJXZWJBc3NlbWJseSIsIkluc3RhbmNlIiwib25tZXNzYWdlIiwiZGF0YSIsIndhc21Nb2R1bGUiLCJ3YXNtTWVtb3J5IiwiYnVmZmVyIiwidXJsT3JCbG9iIiwiZGVmYXVsdCIsInJlY2VpdmVPYmplY3RUcmFuc2ZlciIsInBlcmZvcm1hbmNlIiwibm93IiwidGltZSIsInRocmVhZEluZm9TdHJ1Y3QiLCJtYXgiLCJzdGFja0Jhc2UiLCJ0b3AiLCJzdGFja1NpemUiLCJ0aHJlYWRJbml0IiwicmVzdWx0Iiwic3RhcnRfcm91dGluZSIsImFyZyIsInNldEV4aXRTdGF0dXMiLCJ0aHJlYWRFeGl0IiwiZXgiLCJ0aHJlYWRDYW5jZWwiLCJzdGF0dXMiLCJ0YXJnZXQiLCJzdGFjayIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZiIsImNodW5rSWQiLCJhbGwiLCJyZWR1Y2UiLCJwcm9taXNlcyIsInUiLCJtaW5pQ3NzRiIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwid2luZG93Iiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJyZXBsYWNlIiwicCIsImIiLCJpbnN0YWxsZWRDaHVua3MiLCJpIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJwdXNoIiwiYmluZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwicG9wIl0sInNvdXJjZVJvb3QiOiIifQ==