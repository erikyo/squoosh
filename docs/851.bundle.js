"use strict";(self.webpackChunksquoosh_browser_demo=self.webpackChunksquoosh_browser_demo||[]).push([[851],{851:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m,initThreadPool:()=>p,optimise:()=>f,wbg_rayon_PoolBuilder:()=>y,wbg_rayon_start_worker:()=>g});var r=t(979);let o,i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let s=null;function a(){return null!==s&&s.buffer===o.__wbindgen_export_0.buffer||(s=new Uint8Array(o.__wbindgen_export_0.buffer)),s}const _=new Array(32).fill(void 0);_.push(void 0,null,!0,!1);let u=_.length;function b(e){u===_.length&&_.push(_.length+1);const n=u;return u=_[n],_[n]=e,n}let c=0,l=null;function w(){return null!==l&&l.buffer===o.__wbindgen_export_0.buffer||(l=new Int32Array(o.__wbindgen_export_0.buffer)),l}function f(e,n,t){try{const f=o.__wbindgen_add_to_stack_pointer(-16);var r=function(e,n){const t=n(1*e.length);return a().set(e,t/1),c=e.length,t}(e,o.__wbindgen_malloc),i=c;o.optimise(f,r,i,n,t);var s=w()[f/4+0],_=w()[f/4+1],u=(b=s,l=_,a().subarray(b/1,b/1+l)).slice();return o.__wbindgen_free(s,1*_),u}finally{o.__wbindgen_add_to_stack_pointer(16)}var b,l}function d(e){const n=function(e){return _[e]}(e);return function(e){e<36||(_[e]=u,u=e)}(e),n}function p(e){return d(o.initThreadPool(e))}function g(e){o.wbg_rayon_start_worker(e)}class y{static __wrap(e){const n=Object.create(y.prototype);return n.ptr=e,n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){return o.wbg_rayon_poolbuilder_numThreads(this.ptr)>>>0}receiver(){return o.wbg_rayon_poolbuilder_receiver(this.ptr)}build(){o.wbg_rayon_poolbuilder_build(this.ptr)}}const m=async function e(n,s){void 0===n&&(n=new URL(t(456),t.b));const _={wbg:{}};_.wbg.__wbindgen_throw=function(e,n){throw new Error((t=e,r=n,i.decode(a().slice(t,t+r))));var t,r},_.wbg.__wbindgen_module=function(){return b(e.__wbindgen_wasm_module)},_.wbg.__wbindgen_memory=function(){return b(o.__wbindgen_export_0)},_.wbg.__wbg_startWorkers_914655bb4d5bb5e1=function(e,n,t){return b((0,r.Q)(d(e),d(n),y.__wrap(t)))},("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n)),_.wbg.memory=s||new WebAssembly.Memory({initial:17,maximum:16384,shared:!0});const{instance:u,module:c}=await async function(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}(await n,_);return o=u.exports,e.__wbindgen_wasm_module=c,o.__wbindgen_start(),o}},456:(e,n,t)=>{e.exports=t.p+"6ac3239376efce53600f.wasm"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUV6QyxDQUNILE1BQU1xQixRQUFpQkwsWUFBWWdCLFlBQVlWLEVBQVF0QixHQUV2RCxPQUFJcUIsYUFBb0JMLFlBQVlpQixTQUN6QixDQUFFWixTQUFBQSxFQUFVQyxPQUFBQSxHQUdaRCxHQWlDb0JhLE9BQVdyQyxFQUFPRyxHQUtyRCxPQUhBeEUsRUFBTzZGLEVBQVNjLFFBQ2hCdkMsRUFBS1csdUJBQXlCZSxFQUM5QjlGLEVBQUs0RyxtQkFDRTVHLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcXVvb3NoLWJyb3dzZXItZGVtby8uLi9jb2RlY3Mvb3hpcG5nL3BrZy1wYXJhbGxlbC9zcXVvb3NoX294aXBuZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdGFydFdvcmtlcnMgfSBmcm9tICcuL3NuaXBwZXRzL3dhc20tYmluZGdlbi1yYXlvbi0zZDJkZjA5ZWJlYzE3YTIyL3NyYy93b3JrZXJIZWxwZXJzLmpzJztcclxuXHJcbmxldCB3YXNtO1xyXG5cclxubGV0IGNhY2hlZFRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcsIHsgaWdub3JlQk9NOiB0cnVlLCBmYXRhbDogdHJ1ZSB9KTtcclxuXHJcbmNhY2hlZFRleHREZWNvZGVyLmRlY29kZSgpO1xyXG5cclxubGV0IGNhY2hlZ2V0VWludDhNZW1vcnkwID0gbnVsbDtcclxuZnVuY3Rpb24gZ2V0VWludDhNZW1vcnkwKCkge1xyXG4gICAgaWYgKGNhY2hlZ2V0VWludDhNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0VWludDhNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLmJ1ZmZlcikge1xyXG4gICAgICAgIGNhY2hlZ2V0VWludDhNZW1vcnkwID0gbmV3IFVpbnQ4QXJyYXkod2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLmJ1ZmZlcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2FjaGVnZXRVaW50OE1lbW9yeTA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFN0cmluZ0Zyb21XYXNtMChwdHIsIGxlbikge1xyXG4gICAgcmV0dXJuIGNhY2hlZFRleHREZWNvZGVyLmRlY29kZShnZXRVaW50OE1lbW9yeTAoKS5zbGljZShwdHIsIHB0ciArIGxlbikpO1xyXG59XHJcblxyXG5jb25zdCBoZWFwID0gbmV3IEFycmF5KDMyKS5maWxsKHVuZGVmaW5lZCk7XHJcblxyXG5oZWFwLnB1c2godW5kZWZpbmVkLCBudWxsLCB0cnVlLCBmYWxzZSk7XHJcblxyXG5sZXQgaGVhcF9uZXh0ID0gaGVhcC5sZW5ndGg7XHJcblxyXG5mdW5jdGlvbiBhZGRIZWFwT2JqZWN0KG9iaikge1xyXG4gICAgaWYgKGhlYXBfbmV4dCA9PT0gaGVhcC5sZW5ndGgpIGhlYXAucHVzaChoZWFwLmxlbmd0aCArIDEpO1xyXG4gICAgY29uc3QgaWR4ID0gaGVhcF9uZXh0O1xyXG4gICAgaGVhcF9uZXh0ID0gaGVhcFtpZHhdO1xyXG5cclxuICAgIGhlYXBbaWR4XSA9IG9iajtcclxuICAgIHJldHVybiBpZHg7XHJcbn1cclxuXHJcbmxldCBXQVNNX1ZFQ1RPUl9MRU4gPSAwO1xyXG5cclxuZnVuY3Rpb24gcGFzc0FycmF5OFRvV2FzbTAoYXJnLCBtYWxsb2MpIHtcclxuICAgIGNvbnN0IHB0ciA9IG1hbGxvYyhhcmcubGVuZ3RoICogMSk7XHJcbiAgICBnZXRVaW50OE1lbW9yeTAoKS5zZXQoYXJnLCBwdHIgLyAxKTtcclxuICAgIFdBU01fVkVDVE9SX0xFTiA9IGFyZy5sZW5ndGg7XHJcbiAgICByZXR1cm4gcHRyO1xyXG59XHJcblxyXG5sZXQgY2FjaGVnZXRJbnQzMk1lbW9yeTAgPSBudWxsO1xyXG5mdW5jdGlvbiBnZXRJbnQzMk1lbW9yeTAoKSB7XHJcbiAgICBpZiAoY2FjaGVnZXRJbnQzMk1lbW9yeTAgPT09IG51bGwgfHwgY2FjaGVnZXRJbnQzMk1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAuYnVmZmVyKSB7XHJcbiAgICAgICAgY2FjaGVnZXRJbnQzMk1lbW9yeTAgPSBuZXcgSW50MzJBcnJheSh3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAuYnVmZmVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjYWNoZWdldEludDMyTWVtb3J5MDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QXJyYXlVOEZyb21XYXNtMChwdHIsIGxlbikge1xyXG4gICAgcmV0dXJuIGdldFVpbnQ4TWVtb3J5MCgpLnN1YmFycmF5KHB0ciAvIDEsIHB0ciAvIDEgKyBsZW4pO1xyXG59XHJcbi8qKlxyXG4qIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YVxyXG4qIEBwYXJhbSB7bnVtYmVyfSBsZXZlbFxyXG4qIEBwYXJhbSB7Ym9vbGVhbn0gaW50ZXJsYWNlXHJcbiogQHJldHVybnMge1VpbnQ4QXJyYXl9XHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBvcHRpbWlzZShkYXRhLCBsZXZlbCwgaW50ZXJsYWNlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xyXG4gICAgICAgIHZhciBwdHIwID0gcGFzc0FycmF5OFRvV2FzbTAoZGF0YSwgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XHJcbiAgICAgICAgdmFyIGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XHJcbiAgICAgICAgd2FzbS5vcHRpbWlzZShyZXRwdHIsIHB0cjAsIGxlbjAsIGxldmVsLCBpbnRlcmxhY2UpO1xyXG4gICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcclxuICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XHJcbiAgICAgICAgdmFyIHYxID0gZ2V0QXJyYXlVOEZyb21XYXNtMChyMCwgcjEpLnNsaWNlKCk7XHJcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocjAsIHIxICogMSk7XHJcbiAgICAgICAgcmV0dXJuIHYxO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRPYmplY3QoaWR4KSB7IHJldHVybiBoZWFwW2lkeF07IH1cclxuXHJcbmZ1bmN0aW9uIGRyb3BPYmplY3QoaWR4KSB7XHJcbiAgICBpZiAoaWR4IDwgMzYpIHJldHVybjtcclxuICAgIGhlYXBbaWR4XSA9IGhlYXBfbmV4dDtcclxuICAgIGhlYXBfbmV4dCA9IGlkeDtcclxufVxyXG5cclxuZnVuY3Rpb24gdGFrZU9iamVjdChpZHgpIHtcclxuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChpZHgpO1xyXG4gICAgZHJvcE9iamVjdChpZHgpO1xyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG4vKipcclxuKiBAcGFyYW0ge251bWJlcn0gbnVtX3RocmVhZHNcclxuKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFRocmVhZFBvb2wobnVtX3RocmVhZHMpIHtcclxuICAgIHZhciByZXQgPSB3YXNtLmluaXRUaHJlYWRQb29sKG51bV90aHJlYWRzKTtcclxuICAgIHJldHVybiB0YWtlT2JqZWN0KHJldCk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBwYXJhbSB7bnVtYmVyfSByZWNlaXZlclxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gd2JnX3JheW9uX3N0YXJ0X3dvcmtlcihyZWNlaXZlcikge1xyXG4gICAgd2FzbS53YmdfcmF5b25fc3RhcnRfd29ya2VyKHJlY2VpdmVyKTtcclxufVxyXG5cclxuLyoqXHJcbiovXHJcbmV4cG9ydCBjbGFzcyB3YmdfcmF5b25fUG9vbEJ1aWxkZXIge1xyXG5cclxuICAgIHN0YXRpYyBfX3dyYXAocHRyKSB7XHJcbiAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZSh3YmdfcmF5b25fUG9vbEJ1aWxkZXIucHJvdG90eXBlKTtcclxuICAgICAgICBvYmoucHRyID0gcHRyO1xyXG5cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIF9fZGVzdHJveV9pbnRvX3JhdygpIHtcclxuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLnB0cjtcclxuICAgICAgICB0aGlzLnB0ciA9IDA7XHJcblxyXG4gICAgICAgIHJldHVybiBwdHI7XHJcbiAgICB9XHJcblxyXG4gICAgZnJlZSgpIHtcclxuICAgICAgICBjb25zdCBwdHIgPSB0aGlzLl9fZGVzdHJveV9pbnRvX3JhdygpO1xyXG4gICAgICAgIHdhc20uX193Ymdfd2JnX3JheW9uX3Bvb2xidWlsZGVyX2ZyZWUocHRyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgKi9cclxuICAgIG51bVRocmVhZHMoKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IHdhc20ud2JnX3JheW9uX3Bvb2xidWlsZGVyX251bVRocmVhZHModGhpcy5wdHIpO1xyXG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICovXHJcbiAgICByZWNlaXZlcigpIHtcclxuICAgICAgICB2YXIgcmV0ID0gd2FzbS53YmdfcmF5b25fcG9vbGJ1aWxkZXJfcmVjZWl2ZXIodGhpcy5wdHIpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICovXHJcbiAgICBidWlsZCgpIHtcclxuICAgICAgICB3YXNtLndiZ19yYXlvbl9wb29sYnVpbGRlcl9idWlsZCh0aGlzLnB0cik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWQobW9kdWxlLCBpbXBvcnRzKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlc3BvbnNlID09PSAnZnVuY3Rpb24nICYmIG1vZHVsZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKG1vZHVsZSwgaW1wb3J0cyk7XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSAhPSAnYXBwbGljYXRpb24vd2FzbScpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmdgIGZhaWxlZCBiZWNhdXNlIHlvdXIgc2VydmVyIGRvZXMgbm90IHNlcnZlIHdhc20gd2l0aCBgYXBwbGljYXRpb24vd2FzbWAgTUlNRSB0eXBlLiBGYWxsaW5nIGJhY2sgdG8gYFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlYCB3aGljaCBpcyBzbG93ZXIuIE9yaWdpbmFsIGVycm9yOlxcblwiLCBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgbW9kdWxlLmFycmF5QnVmZmVyKCk7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJ5dGVzLCBpbXBvcnRzKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUobW9kdWxlLCBpbXBvcnRzKTtcclxuXHJcbiAgICAgICAgaWYgKGluc3RhbmNlIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaW5zdGFuY2UsIG1vZHVsZSB9O1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBpbml0KGlucHV0LCBtYXliZV9tZW1vcnkpIHtcclxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgaW5wdXQgPSBuZXcgVVJMKCdzcXVvb3NoX294aXBuZ19iZy53YXNtJywgaW1wb3J0Lm1ldGEudXJsKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGltcG9ydHMgPSB7fTtcclxuICAgIGltcG9ydHMud2JnID0ge307XHJcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX3Rocm93ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xyXG4gICAgfTtcclxuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fbW9kdWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IGluaXQuX193YmluZGdlbl93YXNtX21vZHVsZTtcclxuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xyXG4gICAgfTtcclxuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fbWVtb3J5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IHdhc20uX193YmluZGdlbl9leHBvcnRfMDtcclxuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xyXG4gICAgfTtcclxuICAgIGltcG9ydHMud2JnLl9fd2JnX3N0YXJ0V29ya2Vyc185MTQ2NTViYjRkNWJiNWUxID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xyXG4gICAgICAgIHZhciByZXQgPSBzdGFydFdvcmtlcnModGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSwgd2JnX3JheW9uX1Bvb2xCdWlsZGVyLl9fd3JhcChhcmcyKSk7XHJcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgKHR5cGVvZiBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nICYmIGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkgfHwgKHR5cGVvZiBVUkwgPT09ICdmdW5jdGlvbicgJiYgaW5wdXQgaW5zdGFuY2VvZiBVUkwpKSB7XHJcbiAgICAgICAgaW5wdXQgPSBmZXRjaChpbnB1dCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW1wb3J0cy53YmcubWVtb3J5ID0gbWF5YmVfbWVtb3J5IHx8IG5ldyBXZWJBc3NlbWJseS5NZW1vcnkoe2luaXRpYWw6MTcsbWF4aW11bToxNjM4NCxzaGFyZWQ6dHJ1ZX0pO1xyXG5cclxuICAgIGNvbnN0IHsgaW5zdGFuY2UsIG1vZHVsZSB9ID0gYXdhaXQgbG9hZChhd2FpdCBpbnB1dCwgaW1wb3J0cyk7XHJcblxyXG4gICAgd2FzbSA9IGluc3RhbmNlLmV4cG9ydHM7XHJcbiAgICBpbml0Ll9fd2JpbmRnZW5fd2FzbV9tb2R1bGUgPSBtb2R1bGU7XHJcbiAgICB3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTtcclxuICAgIHJldHVybiB3YXNtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpbml0O1xyXG5cclxuIl0sIm5hbWVzIjpbIndhc20iLCJjYWNoZWRUZXh0RGVjb2RlciIsIlRleHREZWNvZGVyIiwiaWdub3JlQk9NIiwiZmF0YWwiLCJkZWNvZGUiLCJjYWNoZWdldFVpbnQ4TWVtb3J5MCIsImdldFVpbnQ4TWVtb3J5MCIsImJ1ZmZlciIsIl9fd2JpbmRnZW5fZXhwb3J0XzAiLCJVaW50OEFycmF5IiwiaGVhcCIsIkFycmF5IiwiZmlsbCIsInVuZGVmaW5lZCIsInB1c2giLCJoZWFwX25leHQiLCJsZW5ndGgiLCJhZGRIZWFwT2JqZWN0Iiwib2JqIiwiaWR4IiwiV0FTTV9WRUNUT1JfTEVOIiwiY2FjaGVnZXRJbnQzMk1lbW9yeTAiLCJnZXRJbnQzMk1lbW9yeTAiLCJJbnQzMkFycmF5Iiwib3B0aW1pc2UiLCJkYXRhIiwibGV2ZWwiLCJpbnRlcmxhY2UiLCJyZXRwdHIiLCJfX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyIiwicHRyMCIsImFyZyIsIm1hbGxvYyIsInB0ciIsInNldCIsInBhc3NBcnJheThUb1dhc20wIiwiX193YmluZGdlbl9tYWxsb2MiLCJsZW4wIiwicjAiLCJyMSIsInYxIiwibGVuIiwic3ViYXJyYXkiLCJzbGljZSIsIl9fd2JpbmRnZW5fZnJlZSIsInRha2VPYmplY3QiLCJyZXQiLCJnZXRPYmplY3QiLCJkcm9wT2JqZWN0IiwiaW5pdFRocmVhZFBvb2wiLCJudW1fdGhyZWFkcyIsIndiZ19yYXlvbl9zdGFydF93b3JrZXIiLCJyZWNlaXZlciIsIndiZ19yYXlvbl9Qb29sQnVpbGRlciIsIk9iamVjdCIsImNyZWF0ZSIsInByb3RvdHlwZSIsIl9fZGVzdHJveV9pbnRvX3JhdyIsInRoaXMiLCJmcmVlIiwiX193Ymdfd2JnX3JheW9uX3Bvb2xidWlsZGVyX2ZyZWUiLCJudW1UaHJlYWRzIiwid2JnX3JheW9uX3Bvb2xidWlsZGVyX251bVRocmVhZHMiLCJ3YmdfcmF5b25fcG9vbGJ1aWxkZXJfcmVjZWl2ZXIiLCJidWlsZCIsIndiZ19yYXlvbl9wb29sYnVpbGRlcl9idWlsZCIsImFzeW5jIiwiaW5pdCIsImlucHV0IiwibWF5YmVfbWVtb3J5IiwiVVJMIiwiaW1wb3J0cyIsIndiZyIsIl9fd2JpbmRnZW5fdGhyb3ciLCJhcmcwIiwiYXJnMSIsIkVycm9yIiwiX193YmluZGdlbl9tb2R1bGUiLCJfX3diaW5kZ2VuX3dhc21fbW9kdWxlIiwiX193YmluZGdlbl9tZW1vcnkiLCJfX3diZ19zdGFydFdvcmtlcnNfOTE0NjU1YmI0ZDViYjVlMSIsImFyZzIiLCJzdGFydFdvcmtlcnMiLCJfX3dyYXAiLCJSZXF1ZXN0IiwiZmV0Y2giLCJtZW1vcnkiLCJXZWJBc3NlbWJseSIsIk1lbW9yeSIsImluaXRpYWwiLCJtYXhpbXVtIiwic2hhcmVkIiwiaW5zdGFuY2UiLCJtb2R1bGUiLCJSZXNwb25zZSIsImluc3RhbnRpYXRlU3RyZWFtaW5nIiwiZSIsImhlYWRlcnMiLCJnZXQiLCJjb25zb2xlIiwid2FybiIsImJ5dGVzIiwiYXJyYXlCdWZmZXIiLCJpbnN0YW50aWF0ZSIsIkluc3RhbmNlIiwibG9hZCIsImV4cG9ydHMiLCJfX3diaW5kZ2VuX3N0YXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==