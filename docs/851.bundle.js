"use strict";(self.webpackChunksquoosh=self.webpackChunksquoosh||[]).push([[851],{851:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m,initThreadPool:()=>p,optimise:()=>f,wbg_rayon_PoolBuilder:()=>y,wbg_rayon_start_worker:()=>g});var r=t(979);let o,i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let s=null;function a(){return null!==s&&s.buffer===o.__wbindgen_export_0.buffer||(s=new Uint8Array(o.__wbindgen_export_0.buffer)),s}const _=new Array(32).fill(void 0);_.push(void 0,null,!0,!1);let u=_.length;function c(e){u===_.length&&_.push(_.length+1);const n=u;return u=_[n],_[n]=e,n}let b=0,l=null;function w(){return null!==l&&l.buffer===o.__wbindgen_export_0.buffer||(l=new Int32Array(o.__wbindgen_export_0.buffer)),l}function f(e,n,t){try{const f=o.__wbindgen_add_to_stack_pointer(-16);var r=function(e,n){const t=n(1*e.length);return a().set(e,t/1),b=e.length,t}(e,o.__wbindgen_malloc),i=b;o.optimise(f,r,i,n,t);var s=w()[f/4+0],_=w()[f/4+1],u=(c=s,l=_,a().subarray(c/1,c/1+l)).slice();return o.__wbindgen_free(s,1*_),u}finally{o.__wbindgen_add_to_stack_pointer(16)}var c,l}function d(e){const n=function(e){return _[e]}(e);return function(e){e<36||(_[e]=u,u=e)}(e),n}function p(e){return d(o.initThreadPool(e))}function g(e){o.wbg_rayon_start_worker(e)}class y{static __wrap(e){const n=Object.create(y.prototype);return n.ptr=e,n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){return o.wbg_rayon_poolbuilder_numThreads(this.ptr)>>>0}receiver(){return o.wbg_rayon_poolbuilder_receiver(this.ptr)}build(){o.wbg_rayon_poolbuilder_build(this.ptr)}}const m=async function e(n,s){void 0===n&&(n=new URL(t(456),t.b));const _={wbg:{}};_.wbg.__wbindgen_throw=function(e,n){throw new Error((t=e,r=n,i.decode(a().slice(t,t+r))));var t,r},_.wbg.__wbindgen_module=function(){return c(e.__wbindgen_wasm_module)},_.wbg.__wbindgen_memory=function(){return c(o.__wbindgen_export_0)},_.wbg.__wbg_startWorkers_914655bb4d5bb5e1=function(e,n,t){return c((0,r.Q)(d(e),d(n),y.__wrap(t)))},("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n)),_.wbg.memory=s||new WebAssembly.Memory({initial:17,maximum:16384,shared:!0});const{instance:u,module:b}=await async function(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}(await n,_);return o=u.exports,e.__wbindgen_wasm_module=b,o.__wbindgen_start(),o}},456:(e,n,t)=>{e.exports=t.p+"6ac3239376efce53600f.wasm"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUV6QyxDQUNILE1BQU1xQixRQUFpQkwsWUFBWWdCLFlBQVlWLEVBQVF0QixHQUV2RCxPQUFJcUIsYUFBb0JMLFlBQVlpQixTQUN6QixDQUFFWixTQUFBQSxFQUFVQyxPQUFBQSxHQUdaRCxHQWlDb0JhLE9BQVdyQyxFQUFPRyxHQUtyRCxPQUhBeEUsRUFBTzZGLEVBQVNjLFFBQ2hCdkMsRUFBS1csdUJBQXlCZSxFQUM5QjlGLEVBQUs0RyxtQkFDRTVHLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcXVvb3NoLy4uL2NvZGVjcy9veGlwbmcvcGtnLXBhcmFsbGVsL3NxdW9vc2hfb3hpcG5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0YXJ0V29ya2VycyB9IGZyb20gJy4vc25pcHBldHMvd2FzbS1iaW5kZ2VuLXJheW9uLTNkMmRmMDllYmVjMTdhMjIvc3JjL3dvcmtlckhlbHBlcnMuanMnO1xyXG5cclxubGV0IHdhc207XHJcblxyXG5sZXQgY2FjaGVkVGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JywgeyBpZ25vcmVCT006IHRydWUsIGZhdGFsOiB0cnVlIH0pO1xyXG5cclxuY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKCk7XHJcblxyXG5sZXQgY2FjaGVnZXRVaW50OE1lbW9yeTAgPSBudWxsO1xyXG5mdW5jdGlvbiBnZXRVaW50OE1lbW9yeTAoKSB7XHJcbiAgICBpZiAoY2FjaGVnZXRVaW50OE1lbW9yeTAgPT09IG51bGwgfHwgY2FjaGVnZXRVaW50OE1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAuYnVmZmVyKSB7XHJcbiAgICAgICAgY2FjaGVnZXRVaW50OE1lbW9yeTAgPSBuZXcgVWludDhBcnJheSh3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAuYnVmZmVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjYWNoZWdldFVpbnQ4TWVtb3J5MDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbVdhc20wKHB0ciwgbGVuKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKGdldFVpbnQ4TWVtb3J5MCgpLnNsaWNlKHB0ciwgcHRyICsgbGVuKSk7XHJcbn1cclxuXHJcbmNvbnN0IGhlYXAgPSBuZXcgQXJyYXkoMzIpLmZpbGwodW5kZWZpbmVkKTtcclxuXHJcbmhlYXAucHVzaCh1bmRlZmluZWQsIG51bGwsIHRydWUsIGZhbHNlKTtcclxuXHJcbmxldCBoZWFwX25leHQgPSBoZWFwLmxlbmd0aDtcclxuXHJcbmZ1bmN0aW9uIGFkZEhlYXBPYmplY3Qob2JqKSB7XHJcbiAgICBpZiAoaGVhcF9uZXh0ID09PSBoZWFwLmxlbmd0aCkgaGVhcC5wdXNoKGhlYXAubGVuZ3RoICsgMSk7XHJcbiAgICBjb25zdCBpZHggPSBoZWFwX25leHQ7XHJcbiAgICBoZWFwX25leHQgPSBoZWFwW2lkeF07XHJcblxyXG4gICAgaGVhcFtpZHhdID0gb2JqO1xyXG4gICAgcmV0dXJuIGlkeDtcclxufVxyXG5cclxubGV0IFdBU01fVkVDVE9SX0xFTiA9IDA7XHJcblxyXG5mdW5jdGlvbiBwYXNzQXJyYXk4VG9XYXNtMChhcmcsIG1hbGxvYykge1xyXG4gICAgY29uc3QgcHRyID0gbWFsbG9jKGFyZy5sZW5ndGggKiAxKTtcclxuICAgIGdldFVpbnQ4TWVtb3J5MCgpLnNldChhcmcsIHB0ciAvIDEpO1xyXG4gICAgV0FTTV9WRUNUT1JfTEVOID0gYXJnLmxlbmd0aDtcclxuICAgIHJldHVybiBwdHI7XHJcbn1cclxuXHJcbmxldCBjYWNoZWdldEludDMyTWVtb3J5MCA9IG51bGw7XHJcbmZ1bmN0aW9uIGdldEludDMyTWVtb3J5MCgpIHtcclxuICAgIGlmIChjYWNoZWdldEludDMyTWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldEludDMyTWVtb3J5MC5idWZmZXIgIT09IHdhc20uX193YmluZGdlbl9leHBvcnRfMC5idWZmZXIpIHtcclxuICAgICAgICBjYWNoZWdldEludDMyTWVtb3J5MCA9IG5ldyBJbnQzMkFycmF5KHdhc20uX193YmluZGdlbl9leHBvcnRfMC5idWZmZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNhY2hlZ2V0SW50MzJNZW1vcnkwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBcnJheVU4RnJvbVdhc20wKHB0ciwgbGVuKSB7XHJcbiAgICByZXR1cm4gZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyIC8gMSwgcHRyIC8gMSArIGxlbik7XHJcbn1cclxuLyoqXHJcbiogQHBhcmFtIHtVaW50OEFycmF5fSBkYXRhXHJcbiogQHBhcmFtIHtudW1iZXJ9IGxldmVsXHJcbiogQHBhcmFtIHtib29sZWFufSBpbnRlcmxhY2VcclxuKiBAcmV0dXJucyB7VWludDhBcnJheX1cclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXNlKGRhdGEsIGxldmVsLCBpbnRlcmxhY2UpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XHJcbiAgICAgICAgdmFyIHB0cjAgPSBwYXNzQXJyYXk4VG9XYXNtMChkYXRhLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKTtcclxuICAgICAgICB2YXIgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcclxuICAgICAgICB3YXNtLm9wdGltaXNlKHJldHB0ciwgcHRyMCwgbGVuMCwgbGV2ZWwsIGludGVybGFjZSk7XHJcbiAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xyXG4gICAgICAgIHZhciByMSA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAxXTtcclxuICAgICAgICB2YXIgdjEgPSBnZXRBcnJheVU4RnJvbVdhc20wKHIwLCByMSkuc2xpY2UoKTtcclxuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShyMCwgcjEgKiAxKTtcclxuICAgICAgICByZXR1cm4gdjE7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE9iamVjdChpZHgpIHsgcmV0dXJuIGhlYXBbaWR4XTsgfVxyXG5cclxuZnVuY3Rpb24gZHJvcE9iamVjdChpZHgpIHtcclxuICAgIGlmIChpZHggPCAzNikgcmV0dXJuO1xyXG4gICAgaGVhcFtpZHhdID0gaGVhcF9uZXh0O1xyXG4gICAgaGVhcF9uZXh0ID0gaWR4O1xyXG59XHJcblxyXG5mdW5jdGlvbiB0YWtlT2JqZWN0KGlkeCkge1xyXG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGlkeCk7XHJcbiAgICBkcm9wT2JqZWN0KGlkeCk7XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcbi8qKlxyXG4qIEBwYXJhbSB7bnVtYmVyfSBudW1fdGhyZWFkc1xyXG4qIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0VGhyZWFkUG9vbChudW1fdGhyZWFkcykge1xyXG4gICAgdmFyIHJldCA9IHdhc20uaW5pdFRocmVhZFBvb2wobnVtX3RocmVhZHMpO1xyXG4gICAgcmV0dXJuIHRha2VPYmplY3QocmV0KTtcclxufVxyXG5cclxuLyoqXHJcbiogQHBhcmFtIHtudW1iZXJ9IHJlY2VpdmVyXHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiB3YmdfcmF5b25fc3RhcnRfd29ya2VyKHJlY2VpdmVyKSB7XHJcbiAgICB3YXNtLndiZ19yYXlvbl9zdGFydF93b3JrZXIocmVjZWl2ZXIpO1xyXG59XHJcblxyXG4vKipcclxuKi9cclxuZXhwb3J0IGNsYXNzIHdiZ19yYXlvbl9Qb29sQnVpbGRlciB7XHJcblxyXG4gICAgc3RhdGljIF9fd3JhcChwdHIpIHtcclxuICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKHdiZ19yYXlvbl9Qb29sQnVpbGRlci5wcm90b3R5cGUpO1xyXG4gICAgICAgIG9iai5wdHIgPSBwdHI7XHJcblxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgX19kZXN0cm95X2ludG9fcmF3KCkge1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMucHRyO1xyXG4gICAgICAgIHRoaXMucHRyID0gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHB0cjtcclxuICAgIH1cclxuXHJcbiAgICBmcmVlKCkge1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XHJcbiAgICAgICAgd2FzbS5fX3diZ193YmdfcmF5b25fcG9vbGJ1aWxkZXJfZnJlZShwdHIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAqL1xyXG4gICAgbnVtVGhyZWFkcygpIHtcclxuICAgICAgICB2YXIgcmV0ID0gd2FzbS53YmdfcmF5b25fcG9vbGJ1aWxkZXJfbnVtVGhyZWFkcyh0aGlzLnB0cik7XHJcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgKi9cclxuICAgIHJlY2VpdmVyKCkge1xyXG4gICAgICAgIHZhciByZXQgPSB3YXNtLndiZ19yYXlvbl9wb29sYnVpbGRlcl9yZWNlaXZlcih0aGlzLnB0cik7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgKi9cclxuICAgIGJ1aWxkKCkge1xyXG4gICAgICAgIHdhc20ud2JnX3JheW9uX3Bvb2xidWlsZGVyX2J1aWxkKHRoaXMucHRyKTtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9hZChtb2R1bGUsIGltcG9ydHMpIHtcclxuICAgIGlmICh0eXBlb2YgUmVzcG9uc2UgPT09ICdmdW5jdGlvbicgJiYgbW9kdWxlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAodHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcobW9kdWxlLCBpbXBvcnRzKTtcclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb2R1bGUuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpICE9ICdhcHBsaWNhdGlvbi93YXNtJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZ2AgZmFpbGVkIGJlY2F1c2UgeW91ciBzZXJ2ZXIgZG9lcyBub3Qgc2VydmUgd2FzbSB3aXRoIGBhcHBsaWNhdGlvbi93YXNtYCBNSU1FIHR5cGUuIEZhbGxpbmcgYmFjayB0byBgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVgIHdoaWNoIGlzIHNsb3dlci4gT3JpZ2luYWwgZXJyb3I6XFxuXCIsIGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYnl0ZXMgPSBhd2FpdCBtb2R1bGUuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICByZXR1cm4gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYnl0ZXMsIGltcG9ydHMpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShtb2R1bGUsIGltcG9ydHMpO1xyXG5cclxuICAgICAgICBpZiAoaW5zdGFuY2UgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5JbnN0YW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBpbnN0YW5jZSwgbW9kdWxlIH07XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXQoaW5wdXQsIG1heWJlX21lbW9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBpbnB1dCA9IG5ldyBVUkwoJ3NxdW9vc2hfb3hpcG5nX2JnLndhc20nLCBpbXBvcnQubWV0YS51cmwpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW1wb3J0cyA9IHt9O1xyXG4gICAgaW1wb3J0cy53YmcgPSB7fTtcclxuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fdGhyb3cgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldFN0cmluZ0Zyb21XYXNtMChhcmcwLCBhcmcxKSk7XHJcbiAgICB9O1xyXG4gICAgaW1wb3J0cy53YmcuX193YmluZGdlbl9tb2R1bGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcmV0ID0gaW5pdC5fX3diaW5kZ2VuX3dhc21fbW9kdWxlO1xyXG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XHJcbiAgICB9O1xyXG4gICAgaW1wb3J0cy53YmcuX193YmluZGdlbl9tZW1vcnkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcmV0ID0gd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wO1xyXG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XHJcbiAgICB9O1xyXG4gICAgaW1wb3J0cy53YmcuX193Ymdfc3RhcnRXb3JrZXJzXzkxNDY1NWJiNGQ1YmI1ZTEgPSBmdW5jdGlvbihhcmcwLCBhcmcxLCBhcmcyKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IHN0YXJ0V29ya2Vycyh0YWtlT2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpLCB3YmdfcmF5b25fUG9vbEJ1aWxkZXIuX193cmFwKGFyZzIpKTtcclxuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCAodHlwZW9mIFJlcXVlc3QgPT09ICdmdW5jdGlvbicgJiYgaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB8fCAodHlwZW9mIFVSTCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnB1dCBpbnN0YW5jZW9mIFVSTCkpIHtcclxuICAgICAgICBpbnB1dCA9IGZldGNoKGlucHV0KTtcclxuICAgIH1cclxuXHJcbiAgICBpbXBvcnRzLndiZy5tZW1vcnkgPSBtYXliZV9tZW1vcnkgfHwgbmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7aW5pdGlhbDoxNyxtYXhpbXVtOjE2Mzg0LHNoYXJlZDp0cnVlfSk7XHJcblxyXG4gICAgY29uc3QgeyBpbnN0YW5jZSwgbW9kdWxlIH0gPSBhd2FpdCBsb2FkKGF3YWl0IGlucHV0LCBpbXBvcnRzKTtcclxuXHJcbiAgICB3YXNtID0gaW5zdGFuY2UuZXhwb3J0cztcclxuICAgIGluaXQuX193YmluZGdlbl93YXNtX21vZHVsZSA9IG1vZHVsZTtcclxuICAgIHdhc20uX193YmluZGdlbl9zdGFydCgpO1xyXG4gICAgcmV0dXJuIHdhc207XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluaXQ7XHJcblxyXG4iXSwibmFtZXMiOlsid2FzbSIsImNhY2hlZFRleHREZWNvZGVyIiwiVGV4dERlY29kZXIiLCJpZ25vcmVCT00iLCJmYXRhbCIsImRlY29kZSIsImNhY2hlZ2V0VWludDhNZW1vcnkwIiwiZ2V0VWludDhNZW1vcnkwIiwiYnVmZmVyIiwiX193YmluZGdlbl9leHBvcnRfMCIsIlVpbnQ4QXJyYXkiLCJoZWFwIiwiQXJyYXkiLCJmaWxsIiwidW5kZWZpbmVkIiwicHVzaCIsImhlYXBfbmV4dCIsImxlbmd0aCIsImFkZEhlYXBPYmplY3QiLCJvYmoiLCJpZHgiLCJXQVNNX1ZFQ1RPUl9MRU4iLCJjYWNoZWdldEludDMyTWVtb3J5MCIsImdldEludDMyTWVtb3J5MCIsIkludDMyQXJyYXkiLCJvcHRpbWlzZSIsImRhdGEiLCJsZXZlbCIsImludGVybGFjZSIsInJldHB0ciIsIl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIiLCJwdHIwIiwiYXJnIiwibWFsbG9jIiwicHRyIiwic2V0IiwicGFzc0FycmF5OFRvV2FzbTAiLCJfX3diaW5kZ2VuX21hbGxvYyIsImxlbjAiLCJyMCIsInIxIiwidjEiLCJsZW4iLCJzdWJhcnJheSIsInNsaWNlIiwiX193YmluZGdlbl9mcmVlIiwidGFrZU9iamVjdCIsInJldCIsImdldE9iamVjdCIsImRyb3BPYmplY3QiLCJpbml0VGhyZWFkUG9vbCIsIm51bV90aHJlYWRzIiwid2JnX3JheW9uX3N0YXJ0X3dvcmtlciIsInJlY2VpdmVyIiwid2JnX3JheW9uX1Bvb2xCdWlsZGVyIiwiT2JqZWN0IiwiY3JlYXRlIiwicHJvdG90eXBlIiwiX19kZXN0cm95X2ludG9fcmF3IiwidGhpcyIsImZyZWUiLCJfX3diZ193YmdfcmF5b25fcG9vbGJ1aWxkZXJfZnJlZSIsIm51bVRocmVhZHMiLCJ3YmdfcmF5b25fcG9vbGJ1aWxkZXJfbnVtVGhyZWFkcyIsIndiZ19yYXlvbl9wb29sYnVpbGRlcl9yZWNlaXZlciIsImJ1aWxkIiwid2JnX3JheW9uX3Bvb2xidWlsZGVyX2J1aWxkIiwiYXN5bmMiLCJpbml0IiwiaW5wdXQiLCJtYXliZV9tZW1vcnkiLCJVUkwiLCJpbXBvcnRzIiwid2JnIiwiX193YmluZGdlbl90aHJvdyIsImFyZzAiLCJhcmcxIiwiRXJyb3IiLCJfX3diaW5kZ2VuX21vZHVsZSIsIl9fd2JpbmRnZW5fd2FzbV9tb2R1bGUiLCJfX3diaW5kZ2VuX21lbW9yeSIsIl9fd2JnX3N0YXJ0V29ya2Vyc185MTQ2NTViYjRkNWJiNWUxIiwiYXJnMiIsInN0YXJ0V29ya2VycyIsIl9fd3JhcCIsIlJlcXVlc3QiLCJmZXRjaCIsIm1lbW9yeSIsIldlYkFzc2VtYmx5IiwiTWVtb3J5IiwiaW5pdGlhbCIsIm1heGltdW0iLCJzaGFyZWQiLCJpbnN0YW5jZSIsIm1vZHVsZSIsIlJlc3BvbnNlIiwiaW5zdGFudGlhdGVTdHJlYW1pbmciLCJlIiwiaGVhZGVycyIsImdldCIsImNvbnNvbGUiLCJ3YXJuIiwiYnl0ZXMiLCJhcnJheUJ1ZmZlciIsImluc3RhbnRpYXRlIiwiSW5zdGFuY2UiLCJsb2FkIiwiZXhwb3J0cyIsIl9fd2JpbmRnZW5fc3RhcnQiXSwic291cmNlUm9vdCI6IiJ9